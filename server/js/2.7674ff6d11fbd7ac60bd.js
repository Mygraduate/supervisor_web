webpackJsonp([2,11],{1:function(e,t){e.exports=function(e,t,l,o){var a,r=e=e||{},n=typeof e.default;"object"!==n&&"function"!==n||(a=e,r=e.default);var i="function"==typeof r?r.options:r;if(t&&(i.render=t.render,i.staticRenderFns=t.staticRenderFns),l&&(i._scopeId=l),o){var s=i.computed||(i.computed={});Object.keys(o).forEach(function(e){var t=o[e];s[e]=function(){return t}})}return{esModule:a,exports:r,options:i}}},7:function(e,t){"use strict";function l(e){var t=e.getFullYear(),l=e.getMonth()+1,a=e.getDate(),r=e.getHours(),n=e.getMinutes(),i=e.getSeconds();return[t,l,a].map(o).join("/")+" "+[r,n,i].map(o).join(":")}function o(e){return e=e.toString(),e[1]?e:"0"+e}function a(e){var t=parseInt(e),l=0,o=0;t>60&&(l=parseInt(t/60),t=parseInt(t%60),l>60&&(o=parseInt(l/60),l=parseInt(l%60)));var a="";return t>0&&(a=""+parseInt(t)+"秒"),l>0&&(a=""+parseInt(l)+"分钟"+a),o>0&&(a=""+parseInt(o)+"小时"+a),a}function r(e){var t=6e4,l=60*t,o=24*l,a=30*o,r=(new Date).getTime(),i=r-n(e),s=i/a,c=i/(7*o),u=i/o,d=i/l,f=i/t;return s>=1?result=parseInt(s)+"个月前":c>=1?result=parseInt(c)+"周前":u>=1?result=parseInt(u)+"天前":d>=1?result=parseInt(d)+"个小时前":f>=1?result=parseInt(f)+"分钟前":result="刚刚",result}function n(e){return Date.parse(e.replace(/-/gi,"/"))}function i(e){var e=new Date(e),t=e.getMinutes(),l=e.getSeconds();return o(t)+":"+o(l)}e.exports={formatTime:l,formatSeconds:a,getDateDiff:r,formatduration:i}},12:function(e,t,l){e.exports={default:l(17),__esModule:!0}},16:function(e,t,l){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=l(12),r=o(a);t.default=r.default||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o])}return e}},17:function(e,t,l){l(21),e.exports=l(10).Object.assign},18:function(e,t,l){"use strict";var o=l(24),a=l(19),r=l(20),n=l(25),i=l(28),s=Object.assign;e.exports=!s||l(23)(function(){var e={},t={},l=Symbol(),o="abcdefghijklmnopqrst";return e[l]=7,o.split("").forEach(function(e){t[e]=e}),7!=s({},e)[l]||Object.keys(s({},t)).join("")!=o})?function(e,t){for(var l=n(e),s=arguments.length,c=1,u=a.f,d=r.f;s>c;)for(var f,m=i(arguments[c++]),p=u?o(m).concat(u(m)):o(m),g=p.length,h=0;g>h;)d.call(m,f=p[h++])&&(l[f]=m[f]);return l}:s},19:function(e,t){t.f=Object.getOwnPropertySymbols},20:function(e,t){t.f={}.propertyIsEnumerable},21:function(e,t,l){var o=l(22);o(o.S+o.F,"Object",{assign:l(18)})},120:function(e,t,l){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&(t[l]=e[l]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=l(16),n=a(r),i=l(5),s=a(i),c=l(7),u=(a(c),l(9)),d=l(13),f=(o(d),l(14)),m=(o(f),l(15));o(m);l(225);var p={title:"",userName:"",roleId:"",roleName:"",phone:"",email:"",weChatId:"",collegeId:null,collegeName:"",userId:""};t.default={name:"cc-UserInfoIndex",data:function(){return{dialogTitle:"",dialogForm:p,dialogFormVisible:!1,formLabelWidth:"80px",dialogType:"ADD",btnOKDisable:!0,multipleSelection:[],btnDeleteDisable:!0,selectedRole:0,searchName:"",searchTitle:"",searchUsername:""}},beforeCreate:function(){s.default.log("--UserInfoIndex.Vue--Lifecycle:beforeCreate")},created:function(){s.default.log("--UserInfoIndex.Vue--Lifecycle:created",this.$route.query);var e=this;e.requestUserList((0,n.default)({},e.$route.query,{success:function(t){e.requestCollegeList({pageSize:50})}}));var t=e.$route.query,l=t.name,o=(t.selectedRole,t.username),a=t.title,r=t.roleId;e.searchName=l,e.searchTitle=a,e.selectedRole=r,e.searchUsername=o},beforeMount:function(){s.default.log("--UserInfoIndex.Vue--Lifecycle:beforeMount")},mounted:function(){s.default.log("--UserInfoIndex.Vue--Lifecycle:mounted",this)},updated:function(){s.default.log("--UserInfoIndex.Vue--Lifecycle:updated");var e=this;e.btnOKDisable=!(e.dialogForm.userName.trim().length>0)},activated:function(){s.default.log("--UserInfoIndex.Vue--Lifecycle:activated")},deactivated:function(){s.default.log("--UserInfoIndex.Vue--Lifecycle:deactivated")},beforeDestroy:function(){s.default.log("--UserInfoIndex.Vue--Lifecycle:beforeDestroy")},destroyed:function(){s.default.log("--UserInfoIndex.Vue--Lifecycle:destroyed")},computed:(0,n.default)({},(0,u.mapGetters)(["getUserList","getCollegeList","getUserListTotalElements"])),watch:{multipleSelection:function(e){this.btnDeleteDisable=!(e.length>0)}},methods:(0,n.default)({},(0,u.mapActions)(["requestUserList","requestCollegeList","requestUserUpdate","requestUserDelete","requestUserCreate"]),{getCurrentPage:function(){var e=this;return e.$route.query.page?Number(e.$route.query.page):1},handleCurrentChange:function(e){var t=this,l=(0,n.default)({},t.$route.query,{page:e,roleId:t.selectedRole});t.replaceRouter(l),t.requestUserList(l)},showDialog:function(e){var t=this;e?(t.dialogForm=(0,n.default)({},p,e),t.dialogType="UPDATE",t.dialogTitle="修改用户信息"):(t.dialogType="ADD",t.dialogTitle="增加用户"),t.dialogFormVisible=!0},handleDialogCancel:function(){var e=this;e.dialogFormVisible=!1,e.resetDialogForm()},handleDialogOk:function(){var e=this;e.dialogFormVisible=!1;var t={body:e.dialogForm,success:function(e){},error:function(e){},complete:function(t){e.resetDialogForm()}};"UPDATE"===e.dialogType?e.requestUserUpdate(t):e.requestUserCreate(t)},resetDialogForm:function(){var e=this;e.dialogForm=p},handleSelectionChange:function(e){this.multipleSelection=e},handleDelete:function(e,t){var l=this;s.default.showMsgBox({context:l,msg:"是否确定删除？",beforeClose:function(e,o,a){if("confirm"===e){var r=[];r.push(t),l.multipleSelection.length>0&&(r=r.concat(l.multipleSelection)),l.requestUserDelete({body:r,success:function(e){},error:function(e){},complete:function(e){}}),a()}}})},handleSelectedRoleChange:function(){var e=this,t=e.$route.query.page||1;alert("handleSelectedRoleChange"),e.handleCurrentChange(t)},handleSearch:function(){var e=this,t={username:e.searchUsername,name:e.searchName,title:e.searchTitle,roleId:e.selectedRole,page:1};e.replaceRouter((0,n.default)({},e.$route.query,t)),e.requestUserList(t)},resetSearchInput:function(){var e=this;e.searchUsername="",e.searchName="",e.searchTitle="",e.selectedRole=0,e.replaceRouter()},replaceRouter:function(e){var t=this;t.$router.replace({name:t.$route.name,query:e||null})}})}},164:function(e,t,l){t=e.exports=l(2)(),t.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",file:"UserInfoIndex.vue",sourceRoot:"webpack://"}])},177:function(e,t,l){t=e.exports=l(2)(),t.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",file:"UserInfoIndex.css",sourceRoot:"webpack://"}])},207:function(e,t,l){var o=l(164);"string"==typeof o&&(o=[[e.id,o,""]]);l(3)(o,{});o.locals&&(e.exports=o.locals)},225:function(e,t,l){var o=l(177);"string"==typeof o&&(o=[[e.id,o,""]]);l(3)(o,{});o.locals&&(e.exports=o.locals)},246:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"TeacherInfoIndex-box"},[l("el-row",{staticClass:"mg-top10 mg-left10 mg-bottom10"},[l("el-col",[e._v("用户类型："),l("el-radio-group",{staticClass:"mg-left30",model:{value:e.selectedRole,callback:function(t){e.selectedRole=t},expression:"selectedRole"}},[l("el-radio",{attrs:{label:0}},[e._v("全部")]),e._v(" "),l("el-radio",{attrs:{label:1}},[e._v("系统管理员")]),e._v(" "),l("el-radio",{attrs:{label:2}},[e._v("督导管理员")]),e._v(" "),l("el-radio",{attrs:{label:3}},[e._v("督导员")]),e._v(" "),l("el-radio",{attrs:{label:4}},[e._v("教师")])],1)],1)],1),e._v(" "),l("el-row",{staticClass:"mg-top10 mg-left10 mg-bottom10",attrs:{gutter:20}},[l("el-col",{attrs:{span:6}},[e._v("用户名："),l("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入用户名"},model:{value:e.searchName,callback:function(t){e.searchName=t},expression:"searchName"}})],1),e._v(" "),l("el-col",{attrs:{span:6}},[e._v("用户职称："),l("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入用户职称"},model:{value:e.searchTitle,callback:function(t){e.searchTitle=t},expression:"searchTitle"}})],1),e._v(" "),l("el-col",{attrs:{span:6}},[e._v("用户账号："),l("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入用户账号"},model:{value:e.searchUsername,callback:function(t){e.searchUsername=t},expression:"searchUsername"}})],1)],1),e._v(" "),l("div",{staticClass:"block mg-top10 mg-left10 mg-right10  mg-bottom10",staticStyle:{"text-align":"right"}},[l("span",{staticClass:"wrapper "},[l("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleSearch()}}},[e._v("搜索")]),e._v(" "),l("el-button",{on:{click:function(t){e.resetSearchInput()}}},[e._v("重置")]),e._v(" "),l("el-button",{attrs:{type:"success"},on:{click:function(t){e.showDialog()}}},[e._v("添加")]),e._v(" "),l("el-button",{attrs:{type:"danger",disabled:e.btnDeleteDisable},on:{click:function(t){e.handleDelete()}}},[e._v("删除")])],1)]),e._v(" "),l("el-table",{staticClass:"tempform-table",staticStyle:{width:"100%"},attrs:{data:e.getUserList,border:""},on:{"selection-change":e.handleSelectionChange}},[l("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),l("el-table-column",{attrs:{prop:"userName",label:"用户名",width:"200"}}),e._v(" "),l("el-table-column",{attrs:{prop:"title",label:"教师职称",width:"100"}}),e._v(" "),l("el-table-column",{attrs:{prop:"collegeName",label:"所属学院",width:"180"}}),e._v(" "),l("el-table-column",{attrs:{prop:"roleName",label:"角色","show-overflow-tooltip":""}}),e._v(" "),l("el-table-column",{attrs:{prop:"phone",label:"手机号",width:"150"}}),e._v(" "),l("el-table-column",{attrs:{prop:"email",label:"邮件",width:"150"}}),e._v(" "),l("el-table-column",{attrs:{prop:"weChatId",label:"微信号",width:"150"}}),e._v(" "),l("el-table-column",{attrs:{prop:"opertate",label:"操作",width:"180"},scopedSlots:e._u([["default",function(t){return[l("el-button",{attrs:{size:"small"},on:{click:function(l){e.showDialog(t.row)}}},[e._v("修改")]),e._v(" "),l("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(l){e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}]])})],1),e._v(" "),l("div",{staticClass:"block ta-c mg-top10"},[l("el-pagination",{attrs:{"current-page":e.getCurrentPage(),"page-size":10,layout:"prev, pager, next, jumper",total:e.getUserListTotalElements},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),l("el-dialog",{attrs:{title:e.dialogTitle,modal:!1,"show-close":!1,size:"tiny"},model:{value:e.dialogFormVisible,callback:function(t){e.dialogFormVisible=t},expression:"dialogFormVisible"}},[l("el-form",{ref:"form",attrs:{model:e.dialogForm}},[l("el-form-item",{attrs:{label:"用户名:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{"auto-complete":"off",minlength:1},model:{value:e.dialogForm.userName,callback:function(t){e.dialogForm.userName=t},expression:"dialogForm.userName"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"教师职称:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{"auto-complete":"off",minlength:1},model:{value:e.dialogForm.title,callback:function(t){e.dialogForm.title=t},expression:"dialogForm.title"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"所属学院:","label-width":e.formLabelWidth}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.dialogForm.collegeId,callback:function(t){e.dialogForm.collegeId=t},expression:"dialogForm.collegeId"}},e._l(e.getCollegeList,function(e){return l("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),l("el-form-item",{attrs:{label:"角色:","label-width":e.formLabelWidth}}),e._v(" "),l("el-form-item",{attrs:{label:"手机号:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{"auto-complete":"off",minlength:1},model:{value:e.dialogForm.phone,callback:function(t){e.dialogForm.phone=t},expression:"dialogForm.phone"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"邮件:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{"auto-complete":"off",minlength:1},model:{value:e.dialogForm.email,callback:function(t){e.dialogForm.email=t},expression:"dialogForm.email"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"微信号","label-width":e.formLabelWidth}},[l("el-input",{attrs:{"auto-complete":"off"},model:{value:e.dialogForm.weChatId,callback:function(t){e.dialogForm.weChatId=t},expression:"dialogForm.weChatId"}})],1)],1),e._v(" "),l("div",{staticClass:"dialog-footer",slot:"footer"},[l("el-button",{on:{click:function(t){e.handleDialogCancel()}}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary",disabled:e.btnOKDisable},on:{click:function(t){e.handleDialogOk()}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]}},262:function(e,t,l){l(207);var o=l(1)(l(120),l(246),null,null);e.exports=o.exports}});
//# sourceMappingURL=2.7674ff6d11fbd7ac60bd.js.map